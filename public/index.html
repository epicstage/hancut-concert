<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>한동훈 토크콘서트</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="min-h-screen bg-gradient-to-br from-red-50 via-white to-sky-50">
    <!-- 헤더 -->
    <header class="glass-header sticky top-0 z-50">
      <div class="max-w-4xl mx-auto px-4 py-4 flex items-center justify-between">
      </div>
    </header>

    <!-- 메인 콘텐츠 -->
    <main class="max-w-4xl mx-auto px-4 py-12">
      <!-- 메인 카드 -->
      <div class="glass-card mb-8 animate-float">
        <h2 class="text-4xl font-bold text-gray-900 mb-8">
          한동훈 토크콘서트
        </h2>
        
        <div class="space-y-3 text-gray-700">
          <div class="flex items-center gap-3">
            <span class="text-gray-500">일시</span>
            <span>2025년 12월 21일 (일)</span>
          </div>
          
          <div class="flex items-center gap-3">
            <span class="text-gray-500">장소</span>
            <span>고양 킨텍스 제 1전시장 3층 그랜드볼룸</span>
          </div>
          
          <div class="flex items-center gap-3">
            <span class="text-gray-500">상태</span>
            <span class="text-red-600 font-semibold">참가 신청 접수 중</span>
          </div>
        </div>
      </div>

      <!-- 신청 및 주의사항 -->
      <div class="glass-card mb-8">
        <h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center gap-2">
          <span class="text-red-600">*</span>
          <span>신청 및 주의사항</span>
        </h3>
        
        <div class="space-y-6 text-gray-700">
          <!-- 예매 안내 박스 -->
          <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
            <p class="font-semibold text-gray-900 mb-3">📌 예매 안내</p>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start gap-2">
                <span class="text-blue-600 mt-1">•</span>
                <span>최대 <span class="font-semibold text-red-600">1인 2매</span>까지 예매가능합니다.</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-blue-600 mt-1">•</span>
                <span>번호 당 1개의 입장 QR코드만 발급되오니 <span class="font-semibold text-red-600">2매 예매시 각각의 개인정보</span>가 필요합니다.</span>
              </li>
            </ul>
          </div>

          <!-- 정보 입력 주의사항 박스 -->
          <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-r-lg">
            <p class="font-semibold text-gray-900 mb-3">⚠️ 정보 입력 주의사항</p>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start gap-2">
                <span class="text-yellow-600 mt-1">•</span>
                <span>이름 등 개인정보를 꼼꼼히 확인하여 <span class="font-semibold text-red-600">정확히 기재</span>바랍니다.</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-yellow-600 mt-1">•</span>
                <span>좌석은 <span class="font-semibold text-red-600">입금순으로 배정</span>됩니다. (부정확 할 경우 예매가 안 될 수 있습니다.)</span>
              </li>
            </ul>
          </div>

          <!-- 입금 안내 박스 -->
          <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
            <p class="font-semibold text-gray-900 mb-3">💰 입금 안내</p>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start gap-2">
                <span class="text-green-600 mt-1">•</span>
                <span><span class="font-semibold text-red-600">입금기한내에 신청자와 동일한 이름으로 입금</span>하셔야 예약이 확정됩니다.</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-green-600 mt-1">•</span>
                <span>신청인+전화번호 뒤 네 자리 숫자를 적어주십시오.</span>
              </li>
              <li class="ml-6 mt-1">
                <span class="bg-white px-3 py-1 rounded border border-gray-300 font-mono text-sm text-gray-800">예) 홍길동 3747</span>
              </li>
            </ul>
          </div>

          <!-- 문의 안내 -->
          <div class="bg-gray-50 border-l-4 border-gray-400 p-4 rounded-r-lg">
            <p class="font-semibold text-gray-900 mb-2">📞 문의사항</p>
            <p class="text-gray-700">문의사항은 하단 문의하기 버튼을 이용하여 주십시오.</p>
          </div>

          <!-- 입금 계좌 안내 박스 -->
          <div class="bg-red-50 border-2 border-red-300 p-5 rounded-lg">
            <p class="font-bold text-lg text-gray-900 mb-4">🏦 입금계좌안내</p>
            <div class="bg-white p-4 rounded border border-red-200">
              <p class="text-lg font-semibold text-gray-900 mb-2">카카오뱅크 <span class="text-red-600">3333-3548-32957</span></p>
              <p class="text-gray-700">예금주) 샘커뮤니케이션즈</p>
            </div>
          </div>
        </div>
      </div>

      <!-- 액션 버튼들 -->
      <div class="space-y-4">
        <div id="applyButtonSection">
          <a href="/apply.html" class="block">
            <button class="btn-primary-glass w-full">
              참가 신청하기
            </button>
          </a>
        </div>
        
        <div id="applyClosedMessage" class="hidden glass-card p-6 text-center">
          <h3 class="text-xl font-bold text-gray-900 mb-3">1차 모집이 완료되었습니다</h3>
          <p class="text-gray-700">2차 모집시 SNS를 통해 안내드리겠습니다</p>
        </div>
        
        <a href="/check.html" class="block">
          <button class="btn-secondary-glass w-full">
            신청내역 확인
          </button>
        </a>
        
        <a href="/inquiry.html" class="block">
          <button class="btn-secondary-glass w-full">
            문의하기
          </button>
        </a>
      </div>
    </main>

    <script>
      document.addEventListener('DOMContentLoaded', async function() {
        try {
          const response = await fetch('/api/participants/count');
          const data = await response.json();
          
          if (data.success && data.count >= 1500) {
            // 1500명 이상이면 참가신청 버튼 숨기고 안내 메시지 표시
            const applyButtonSection = document.getElementById('applyButtonSection');
            const applyClosedMessage = document.getElementById('applyClosedMessage');
            
            if (applyButtonSection) applyButtonSection.classList.add('hidden');
            if (applyClosedMessage) applyClosedMessage.classList.remove('hidden');
          }
        } catch (err) {
          console.error('Error checking participant count:', err);
        }
      });
    </script>

    <!-- 푸터 (나중에 배포사/운영사 정보 추가 예정) -->
    <footer class="mt-16 py-8 border-t border-white/20">
      <div class="max-w-4xl mx-auto px-4 text-center text-sm text-gray-600">
        <!-- 배포사/운영사 정보는 추후 추가 예정 -->
      </div>
    </footer>
  </div>
</body>
</html>

